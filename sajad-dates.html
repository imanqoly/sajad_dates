<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        function getLang() {
  const params = new URLSearchParams(window.location.search);
  return params.get('lang') || 'en'; // default to English
}
const lang = getLang();
    </script>
    <title>Document</title>
</head>
<body>
    <main>
        <ul class='parallax'>
          <li class='layer'></li>
          <li class='layer'></li>
          <li class='layer'></li>
          <li class='layer'></li>
          <li class='layer'></li>
          <li class='layer'></li>
        </ul>
        <article id='history' class='history'>
            <h1 id="history-title"></h1>
            <p id="history-text"></p>
        </article>
        <article id='KeyFeatures' class='KeyFeatures'>

        </article>
      </main>
      <div class="container">
        <section class="section">
          <h2>The First slide</h2>
          <p>Scroll Down for next slide</p>
        </section>
        <section class="section">
          <h2>The Second slide</h2>
          <p>Scroll Down for next slide</p>
        </section>
        <section class="section">
          <h2>The Third slide</h2>
          <p>Scroll Down</p>
        </section>
        <section class="section">
          <h2>The Fourth slide</h2>
        </section>
      </div>
     
      <section>
        <header>
          <p>Tagline</p>
          <h1>Short heading goes here</h1>
          <div>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti architecto exercitationem voluptates? Alias, obcaecati qui suscipit totam provident asperiores temporibus eveniet a. At sapiente quo quae dolorum accusamus. Libero, temporibus!
          </div>
          
          
        </header>
        
      <div class="l-cards">
        <!-- CARDS for types of dates -->
        <div class="c-card">
          <div class="c-card__description">
            <div class="c-card__tagline">
              Amon The Sign
            </div>
            
            <h1 class="c-card__title">
              Zzor / Bass
            </h1>
            
            <div class="c-card__excerpt">
              Zzor es el bajista de la banda de Darkwave española: Amon The sign
            </div>
            
            <div class="c-card__cta">
              <a href="https://www.youtube.com/watch?v=aqacOQpfbxc&ab_channel=AmonTheSign" target="_blank">Escuchar en Youtube</a>
            </div>
          </div>
      
          <figure class="c-card__figure">
            <img src="https://www.ats.hugo-salazar.com/wp-content/uploads/2023/04/zzor.jpeg" alt="Zzor">
          </figure>
        </div>
        
        
        
      </div>
      
      <div class="spacer"></div>
      </section>

</body>

<script>
    const layers = document.querySelectorAll('.layer');

function parallax() {
  const y = window.scrollY;
  for (let i = 1; i < layers.length; i++) {
    layers[layers.length-i].style.transform = `translateY(${(i*0.1) * y}px)`;
  }
}

window.addEventListener('scroll',parallax,false);
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<!-- GSAP ScrollTrigger plugin -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script>
    gsap.registerPlugin(ScrollTrigger);
    const cards = gsap.utils.toArray(".c-card");
const lastCardIndex = cards.length - 1;

// Crear el ScrollTrigger para la primera y última tarjeta
const firstCardST = ScrollTrigger.create({
  trigger: cards[1],
  start: "center center"
});

const lastCardST = ScrollTrigger.create({
  trigger: cards[cards.length - 1],
  start: "center center"
});

// Iterar sobre cada tarjeta
cards.forEach((card, index) => {
  const scale = index === lastCardIndex ? 1 : 0.5;
  const scaleDown = gsap.to(card, {
    scale: scale,
  });

  ScrollTrigger.create({
    trigger: card,
    start: "top top",
    end: () => lastCardST.start,
    pin: true,
    pinSpacing: false,
    scrub: 0.5,
    ease: "none",
    animation: scaleDown,
    toggleActions: "restart none none reverse"
  });
});
</script>
<script>
    fetch(`sajadcontent.${lang}.json`)
  .then(res => res.json())
  .then(data => {
    // Set text direction
    document.body.setAttribute('dir', data.dir || 'ltr');

    // Replace content (just examples)
    document.getElementById('history-title').textContent = data.history.title;
    document.getElementById('history-text').textContent = data.history.text;

    // Example for list rendering
    
    
  
    });


</script>

</html>